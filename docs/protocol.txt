0) On power-on or soft-reset:

Sense, tape read, motor line and tape write GPIO pins at Pi are all by default
inputs with pull-down resistors.

1) CBM Tape Pi initializes:

Setting sense output line to HIGH at CBM.
Setting tape read output line to HIGH at CBM.
Setting motor line to input with pull-down.
Setting tape write line to input with pull-down.

2) Reading configuration file and either entering SAVE or one of the fast modes:

2)a) SAVE mode:

Setting sense line to LOW at CBM (simulating user pressing button).

Waiting for data from CBM.

Interpreting data, acting on it and maybe sending data back.

2)b) One of the fast modes (each "machine" has its own fast mode):

--- WORK IN PROGRESS ---

2) Fast mode is active.

PI: Call petload_retrieve():

- PI: Request first data bit: data-req / SENSE = LOW

- PI: Waiting for data-ready toggle from HIGH to LOW
      [wait_for_data_ready_pulse()].

[=> CBM (OS): MOTOR goes HIGH]

CBM: User: (Fast mode) command execution:

- CBM: Disable interrupts, make sure that MOTOR is set to HIGH).

* CBM: Waits for data-req / SENSE to get LOW. <=> Already LOW.

- CBM: Set current bit to data line.

- CBM: MOTOR pulse HIGH -> LOW -> HIGH.

=> PI: Read bit from data line, request next bit (go to * above).

>>> At some point, all bits are transferred. <<<

CBM: Toggle to Pi -> CBM transfer mode.
